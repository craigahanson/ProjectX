@page "/people/{Id:int}"
@inject HttpClient Http
@using ProjectX.Api.Abstractions

<h1>Person</h1>

@if (person == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <div>
        <label for="personid" class="col-sm-2 col-form-label">Id</label>
        <div class="col-sm-10">
            <label readonly class="form-control-plaintext" id="personid">@person.Id</label>
        </div>
    </div>
    <div>
        <label for="personfirstname" class="col-sm-2 col-form-label">First Name</label>
        <div class="col-sm-10">
            <label readonly class="form-control-plaintext" id="personfirstname">@person.FirstName</label>
        </div>
    </div>
    <div>
        <label for="personlastname" class="col-sm-2 col-form-label">Last Name</label>
        <div class="col-sm-10">
            <label readonly class="form-control-plaintext" id="personlastname">@person.LastName</label>
        </div>
    </div>
}

@code {
    [Parameter]
    private int Id { get;set; }
    ApiPerson person;

    protected override async Task OnInitAsync()
    {
        person = await Http.GetJsonAsync<ApiPerson>("https://localhost:1001/api/people/" + Id);
    }
}
